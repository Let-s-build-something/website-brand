<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic Metadata -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Augmy—Expressive Messaging</title>
    <meta name="description" content="Augmy is an app that empowers you to express your true feelings with clarity and emotion, offering a deeper way to connect through chat beyond words and labels." />
    <meta name="keywords" content="communication app, chatting app, app for couples, partner communication, online communication, psychology, social network app, quality communication, augmented, enriched, instant messaging">
    <meta name="author" content="Augmy Interactive">

    <!-- Preload WASM files -->
    <link rel="preload" href="2eaba8643e2ccdf352b4.wasm" as="fetch" crossorigin/>

    <!-- Canonical URL (SEO Best Practice for duplicate content) -->
    <link rel="canonical" href="https://augmy.org">

    <!-- Robots Meta Tag -->
    <meta name="robots" content="index, follow"> <!-- Allows indexing and following links -->

    <!-- Open Graph Metadata (for social media) -->
    <meta property="og:title" content="Augmy—Say What You Mean, Express What You Feel">
    <meta property="og:description" content="Augmy is an app that empowers you to express your true feelings with clarity and emotion, offering a deeper way to connect through chat beyond words and labels." />
    <meta property="og:url" content="https://augmy.org">
    <meta property="og:image" content="https://augmy.org/storage/img/thumbnail/tn_7b270e82-4ceb-43dc-bbc1-b5d47ff1cfc0.jpg">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card Metadata -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Augmy—Say What You Mean, Express What You Feel">
    <meta name="twitter:description" content="Augmy is an app that empowers you to express your true feelings with clarity and emotion, offering a deeper way to connect through chat beyond words and labels.">
    <meta name="twitter:image" content="https://augmy.org/storage/img/thumbnail/tn_7b270e82-4ceb-43dc-bbc1-b5d47ff1cfc0.jpg">
    <meta name="twitter:site" content="@AugmyInteractiv">

    <!-- Favicon -->
    <!-- Android Chrome Favicon (192x192) -->
    <link rel="icon" sizes="192x192" href="https://augmy.org/favicon.svg">
    <!-- iOS Apple Touch Icon (180x180) -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://augmy.org/favicon.svg">
    <!-- Default Icon -->
    <link rel="icon" href="https://augmy.org/favicon.svg">
    <link type="text/css" rel="stylesheet" href="styles.css">
    <link rel="preload" href="./composeResources/website_brand.composeapp.generated.resources/font/quicksand_medium.ttf" as="fetch" type="font/ttf" crossorigin/>
    <!--<link rel="preload" href="composeApp.wasm" as="fetch" type="application/wasm" crossorigin="anonymous">-->

    <!-- Additional Metadata for SEO (structured data) -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Augmy Interactive",
            "url": "https://augmy.org",
            "logo": "https://augmy.org/favicon.svg",
            "sameAs": [
                "https://www.twitter.com/AugmyInteractiv",
                "https://www.instagram.com/augmy_interactive",
                "https://www.linkedin.com/company/augmy-interactive"
            ],
            "contactPoint": {}
        }
    </script>

    <style>
        /* Splash screen styling */
        #loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #121212;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            font-size: 24px;
            color: #81A263;
            flex-direction: column;
            display: flex
        }

        /* Initially hide the app content */
        #app {
            background-color: #121212;
        }
    </style>
</head>
    <body>
    <div style="display:none;">
        <!-- Landing Header -->
        <h1>The New Era of Communication</h1>
        <p>Talk online like you do in real life. Digital communication, reflective of the physical you, with agency in your hands.</p>

        <!-- Social Circle -->
        <h2>People Are Not Ones and Zeros</h2>
        <p>Friend list? Followers? Do those really reflect your relationships? "Friend" or "not friend"? Forget about shallow, meaningless labels. Welcome to a social space built with depth in mind.</p>

        <!-- Rediscover the Colors of Communication -->
        <h2>Rediscover the Colors of Communication</h2>
        <p>You miss their voice, but hear only text. You feel so much, but can’t say the rest. A message sent—but something’s lost. The warmth, the tone, the human cost.
            To say "I’m here" without a word, To show you’ve felt, to feel you're heard— That’s what we made Augmy for.</p>

        <!-- Allow Your Digital Body to Speak up -->
        <h2>Allow Your Digital Body to Speak up</h2>
        <p>Your digital nonverbal communication is as important as your physical. You don't have to ponder which emoji best expresses your feelings anymore; be understood without overthinking.</p>

        <!-- It Wasn't Made for You -->
        <h2>It Wasn't Made for You</h2>
        <p>Sometimes, expressing yourself can be challenging, and there are moments when you may simply lack the energy to explain. The messaging tools you use weren’t designed for moments like these, but Augmy Messenger is.</p>

        <!-- Communication Matters -->
        <h2>Communication Matters</h2>
        <p>If you want to understand someone more deeply — or help them truly understand you — we’re here for that. Because connection takes more than words. The people around you matter. Give it a try.</p>

        <!-- Footer Section -->
        <h2>The problem statement</h2>
        <p>Messaging online as we know it is not enough—it lacks nuance in how we express ourselves, in the way we move, in the way we talk, and fails at synchronizing us with others. We often rely on oversimplified keywords and impersonal emojis or curate the impressions others may have of us, leaving the true expressions behind. It's time for online messaging that truly conveys how we mean it—not just what we type.</p>
    </div>

    <div id="loader-container">
            <canvas id="canvas" height="150px" width="150px"></canvas>
        </div>

        <div id="app"></div>

        <script>
            (function redirectIfJvmSSO() {
              console.log("[SSO] Running SSO redirect script...");

              const userAgent = navigator.userAgent.toLowerCase();
              const isJvmPlatform =
                userAgent.includes("windows") ||
                userAgent.includes("linux") ||
                userAgent.includes("macintosh");

              const platformParam = new URLSearchParams(window.location.search).get("platform");
              const platform = platformParam || (isJvmPlatform ? "jvm" : "web");
              console.log("[SSO] Detected platform:", platform);

              function redirectIfValid(code, state, nonce, source) {
                console.log(`[SSO] Trying redirect from ${source}:`, { code, state, nonce });

                if (platform === "jvm" && code && state === "matrix_sso") {
                  const baseUrl = `augmy://login?code=${encodeURIComponent(code)}&state=${encodeURIComponent(state)}`;
                  const finalUrl = nonce ? `${baseUrl}&nonce=${encodeURIComponent(nonce)}` : baseUrl;

                  console.log("[SSO] Redirecting to:", finalUrl);
                  window.location.href = finalUrl;
                } else {
                  console.warn("[SSO] Redirect conditions not met.", { platform, code, state });
                }
              }

              // Case 1: Google — everything is in the query string
              const queryParams = new URLSearchParams(window.location.search);
              const codeFromUrl = queryParams.get("code");
              const stateFromUrl = queryParams.get("state");
              const nonceFromUrl = queryParams.get("nonce");

              if (codeFromUrl && stateFromUrl) {
                console.log("[SSO] Found code/state in URL — assuming Google login.");
                redirectIfValid(codeFromUrl, stateFromUrl, nonceFromUrl, "query string");
                return;
              } else {
                console.log("[SSO] No code/state in URL — checking for Apple form post.");
              }

              // Case 2: Apple — values come via POST form
              window.addEventListener("DOMContentLoaded", () => {
                const form = document.querySelector("form");
                if (!form) {
                  console.warn("[SSO] No form found in DOM (Apple login fallback not triggered)");
                  return;
                }

                const code = form.querySelector("input[name=code]")?.value;
                const state = form.querySelector("input[name=state]")?.value;
                const nonce = form.querySelector("input[name=nonce]")?.value;

                if (code || state || nonce) {
                  console.log("[SSO] Found form values from Apple:", { code, state, nonce });
                } else {
                  console.warn("[SSO] Form exists but inputs were empty");
                }

                redirectIfValid(code, state, nonce, "form post");
              });
            })();
        </script>

        <script type="module">
            import { DotLottie } from "https://cdn.jsdelivr.net/npm/@lottiefiles/dotlottie-web/+esm";

            function loadSplashImage() {
                new DotLottie({
                    autoplay: true,
                    loop: true,
                    direction: -1,
                    canvas: document.getElementById("canvas"),
                    src: "https://lottie.host/cb47031e-dc67-4366-9921-6d1fdb3ca398/FblXP0xkN8.json",
                });
            }

            function checkIfSplash() {
                loadSplashImage()
            }

            checkIfSplash()

            import { loadIndex } from './preloader.js';

            document.addEventListener('DOMContentLoaded', loadIndex);
        </script>

        <script type="application/javascript" >
            const unhandledError = (event, error) => {
                if (error instanceof WebAssembly.CompileError) {
                    document.getElementById('loader-container').innerHTML = '<p>Error loading the app.</p>';
                }
            }
            document.addEventListener("error", (event) => unhandledError(event, event.error));
            document.addEventListener("unhandledrejection", (event) => unhandledError(event, event.reason));
        </script>
    </body>
</html>